esphome:
  name: dinning-north
  friendly_name: Dining_North

esp8266:
  board: esp01_1m

# Enable logging Default: DEBUG
logger:

# Enable Home Assistant API
api:
  encryption:
    key: "Automatically Generated by ESPHome while setting up for first time"

ota:
  platform: esphome
  password: !secret ota_password

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

sensor:
  # Check wifi strength in Home Assistant Dashboard
  - platform: wifi_signal
    name: WIFI_Signal
    update_interval: 600s
    unit_of_measurement: "%"
    filters:
      - lambda: |-
          if (x <= -100) {
            return 0;
          } else {
            if (x >= -50) {
              return 100;
            } else {
              return 2 * (x + 100);
            }
          }

# Switches will be connected to a relay module which will be controlled by ESP8266
switch:
  - platform: gpio
    name: "Socket"
    pin:
      number: GPIO5
      inverted: true
      mode:
        output: True
        open_drain: True
    restore_mode: ALWAYS_OFF
  - platform: gpio
    name: "CFL Light"
    pin:
      number: GPIO4
      inverted: true
      mode:
        output: True
        open_drain: True
    restore_mode: ALWAYS_OFF
  - platform: gpio
    name: "LED Bulb"
    pin:
      number: GPIO14
      inverted: true
      mode:
        output: True
        open_drain: True
    restore_mode: ALWAYS_OFF
  - platform: gpio
    name: "Fan"
    pin:
      number: GPIO12
      inverted: true
      mode:
        output: True
        open_drain: True
    restore_mode: ALWAYS_OFF
